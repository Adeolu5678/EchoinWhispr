# Flutter Project Setup & Initialization

AI Agent, your role is to guide the human developer through the setup and initialization of a standard Flutter project within the EchoinWhispr/Flutter directory.

1.1. Directory Structure
Guide the developer to create a new Flutter project using flutter create inside the EchoinWhispr/Flutter folder. Advise on a modular, feature-based architecture within the lib/ directory, aligning with the principles outlined in SSD Section 2.4.1 Modular Architecture (Feature-Based).
Recommended Flutter/lib Structure:
EchoinWhispr/
└── Flutter/
    ├── pubspec.yaml
    ├── pubspec.lock
    ├── lib/
    │   ├── main.dart             # Application entry point, root widget
    │   ├── app.dart              # Main App widget, routing setup
    │   ├── core/                 # Global utilities, themes, constants
    │   │   ├── constants/
    │   │   ├── errors/
    │   │   ├── theme/
    │   │   └── utils/
    │   ├── features/             # Modular features (e.g., authentication, whispers)
    │   │   ├── authentication/
    │   │   │   ├── data/         # Repositories, data sources
    │   │   │   ├── domain/       # Models, entities, use cases
    │   │   │   ├── presentation/ # Widgets, BLoCs/Providers
    │   │   │   └── authentication_feature.dart # Barrel file for feature
    │   │   └── whispers/
    │   │       ├── data/
    │   │       ├── domain/
    │   │       ├── presentation/
    │   │       └── whisper_feature.dart
    │   ├── shared/               # Reusable widgets, hooks/mixins (cross-feature)
    │   └── services/             # Backend/Auth service integrations (e.g., Convex client, Clerk client)
    └── test/                     # Unit and widget tests

Guidance for Developer: This structure promotes separation of concerns (using a Clean Architecture-inspired approach), enhances readability, and simplifies maintenance, which is crucial for learning and future scaling. Explain the purpose of data, domain, and presentation layers within a feature.

1.2. Technology Stack Configuration (Learning Context)
Provide detailed instructions for configuring the following technologies within the Flutter project. Focus on how to integrate them using Flutter's ecosystem, including relevant pubspec.yaml dependencies and initialization code.
Flutter & Dart:
Ensure a standard flutter create setup.
Highlight the importance of pubspec.yaml for dependency management.
Advise on basic Dart best practices (e.g., null safety, const correctness, StringBuffer for efficient string handling, minimizing expensive operations in build() methods).
Convex:
Guidance: As there might not be an official Flutter SDK for Convex, guide the developer on integrating Convex using standard HTTP clients (e.g., http package) to interact with Convex's HTTP API.
Steps:
Add http package to pubspec.yaml.
Explain how to make HTTP POST requests to Convex endpoints (/api/query, /api/mutation).
Demonstrate how to parse JSON responses from Convex.
Advise on creating a ConvexClient class in services/convex_client.dart to abstract API calls.
Explain how to set up reactive data streams (e.g., using StreamController and polling or WebSockets if available) to mimic Convex's real-time queries.
Clerk:
Guidance: Similar to Convex, guide the developer on integrating Clerk using its HTTP API.
Steps:
Add http package to pubspec.yaml.
Explain how to make HTTP requests for sign-up, sign-in, and session validation to Clerk's API endpoints.
Demonstrate how to handle authentication tokens (JWTs) and securely store them (e.g., using flutter_secure_storage).
Advise on creating a ClerkAuthService class in services/clerk_auth_service.dart.
Explain how to manage user sessions and state in Flutter (e.g., using Provider or Riverpod).
PNPM: Remind the developer that pubspec.yaml manages Dart/Flutter dependencies, but pnpm will manage the root-level node_modules for any JavaScript tooling if used in the Flutter project (e.g., for build scripts).
