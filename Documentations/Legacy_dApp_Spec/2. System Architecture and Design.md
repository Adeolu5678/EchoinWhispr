# Part II: System Architecture and Design

## 2.1. Architectural Blueprint (The Modern Web Stack)

EchoinWhispr is a serverless web application leveraging the power of Convex and Next.js.

| Layer             | Service / Technology | Role in EchoinWhispr                                                                                |
| ----------------- | -------------------- | --------------------------------------------------------------------------------------------------- |
| Identity & Auth   | Clerk                | Handles user authentication, session management, and identity verification.                         |
| State & Logic     | Convex               | Real-time database and backend functions. Manages all user data, messages, and business logic.      |
| Data Storage      | Convex File Storage  | Stores user-uploaded content like images and attachments securely.                                  |
| Real-time Updates | Convex Subscriptions | Provides real-time updates to the client for new messages and notifications without manual polling. |
| Frontend          | Next.js (React)      | The user interface, rendering pages and components, interacting with Convex hooks.                  |

## 2.2. Data Strategy

This data model is optimized for performance, developer experience, and real-time capabilities.

### Database (Convex):

- **What:** All structured data.
- **Data:** Users, Conversations, Messages, Subscriptions.
- **Why:** Convex provides a reactive database that pushes updates to the client, essential for a messaging app. It simplifies the stack by combining database and API layer.

### File Storage (Convex):

- **What:** Large media files.
- **Data:** Images sent in conversations.
- **Why:** Integrated directly with Convex, allowing for seamless upload/download flows and access control within the same backend logic.

## 2.3. Technology Stack

- **Client (Frontend):** Next.js (React)
- **Authentication:** Clerk
- **Backend & Database:** Convex
- **Styling:** Tailwind CSS (or custom CSS as per design system)
- **Payments:** Stripe (integrated via API/Webhooks)
